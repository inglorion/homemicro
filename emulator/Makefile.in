TARGETS = Makefile hm1000
OBJECTS = main.o xcb.o

CFLAGS = @CFLAGS@ @XCB_CFLAGS@
LIBS = @LIBS@ @XCB_LIBS@

all : $(TARGETS)

clean :
	-rm $(OBJECTS)

distclean : clean
	-rm $(TARGETS)

hm1000 : $(OBJECTS)
	$(CC) $(CFLAGS) -o hm1000 $(OBJECTS) $(LIBS)

main.o : main.c hm1000.c hm1000.h ops.inc xcb.h
	$(CC) $(CFLAGS) -c main.c

xcb.o : xcb.c xcb.h
	$(CC) $(CFLAGS) -c xcb.c

.PHONY : all clean distclean
